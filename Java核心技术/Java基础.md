# Java基本语法

## 关键字

具有特殊含义的专用字符串 关键字所有字母都小写

保留字：可能在未来被采用为关键字的字符串

## 标识符

可以自己定义的字符串叫标识符

### 定义规则

由大小写字母，0-9，_或$组成

开头不能用数字（错例：1Test）

不能使用关键字和保留字，但可以包含（错：class；对：class8）

严格区分大小写，长度无限制

不能包含空格

### 命名规范

包名：多单词所有字母小写：xxxyyyzzz

类名、接口名：首字母大写：XxxYyyZzz

变量名、方法名：首单词小写，后续大写：xxxYyyZzz

常量名：所有字母大写，单词间加下划线：XXX_YYY_ZZZ

## 变量

### 数据类型

#### 基本数据类型（8种）

数值型：整数类型（byte,short,int,long）；浮点类型（float double）

字符型：char

布尔型：boolean

| 类型         | 占用空间 | 表示范围       | 精度         | 特殊表示方式    |
| ------------ | -------- | -------------- | ------------ | --------------- |
| byte         | 1字节    | -128~127       |              |                 |
| short        | 2字节    | -2^15~2^15-1   |              |                 |
| int(默认)    | 4字节    | -2^31~2^31-1   |              |                 |
| long         | 8字节    | -2^63~2^63-1   |              | long l = 8l     |
| float        | 4字节    | -2^128~2^128   | 7位有效数字  | float f =3.14f  |
| double(默认) | 8字节    | -2^1024~2^1024 | 16位有效数字 |                 |
| char         |          |                |              | char a = 'a'    |
| boolean      |          |                |              | 只有true和false |

#### 基本数据类型转换

自动转换：byte,short,char（不互相转换，计算时先转换为int）→int→long→float→double

字符串+任何基本类型的值，基本类型的值将转化为字符串类型："hello"+3+4=hello34		3+4+"hello"=7hello

强制转换 int i = 1; byte b = (byte)i 

#### 引用数据类型

- 类（class）:String
- 接口（interface）
- 数组（[]）

#### 定义变量

变量就是一切通过内存分配并赋值的量，分为不可变变量和可变变量

```java
//数据类型 变量名 = 初始化值
int i = 1;
```

## 运算符

### 算术运算符

- +（正号）
- -（负号）
- 加+ 减- 乘* 除/
- %（取模）
- ++（前）
- ++（后）
- --（前）
- --（后）
- +（字符串拼接）

### 赋值运算符

= 可连续使用

扩展赋值运算符：+=，-=，=，/=，%=

该运算符会强制转换数据类型		

### 比较运算符

== != < > <= >=

改运算符结果都是boolean型	

### 逻辑运算符

&与		|或		!非

&&短路与	||短路或	^异或（不同为true，相同为false）

短路或和与，一定情况下，后面不参与运算	

### 位运算符

位运算是直接对二进制进行运算	

| 运算符 | 运算       | 说明                  |
| ------ | ---------- | :-------------------- |
| <<     | 左移       | m<<n即m2^n            |
| >>     | 右移       | m<<n即m*2^(-n)        |
| >>>    | 无符号右移 | 都补0                 |
| &      | 与         | 视1为true，视0为false |
| \|     | 或         |                       |
| ^      | 异或       |                       |
| ~      | 反码       |                       |

### 三元运算符（三目运算符）

格式：(条件表达式)?表达式1:表达式2

```java 
//取三个数中最大数：
m > n ? (m > k ? m : k) : (n > k ? n : k)
```

## 程序流程控制

### 顺序结构

程序从上到下逐行执行，中间没有任何判断和跳转

### 分支结构

根据条件选择性的执行某段代码

- **if-else语句**

```java
if(条件表达式){
	执行代码块
}else if{
	执行代码块
}else{
	执行代码块
}
```

- **switch语句**

```java
switch(变量){
	case 常量1:
		语句1;
		break;
	case 常量2:
		语句2;
		break;
	...
	case 常量n:
		语句n;
		break;
	default:
		语句;
		break;
}
```

switch规则：

​	switch（表达式）中表达式的返回值必须是以下类型：byte,short,char,int,枚举,String

​	case中的值必须是常量且不同

​	default子句是可任选的，没有匹配的case时，执行default

​	break结尾，break结尾，break结尾；如果没有break结尾，程序会执行到switch结尾		

凡是都可用if-else语句，判断的值不多而且符合switch使用类型时，使用switch语句效率稍高

### 循环结构

在某些条件满足的情况下，反复执行特定代码的功能

​	初始化部分（int_statement）

​	循环条件部分（test_exp）

​	循环体部分（body_statement）

​	迭代部分（alter_statement）

- **for语句**

```java
for(初始化表达式①；布尔值测试表达式②；更改表达式③){
	语句或语句块③；
}
		
//连续输出10次abss
for(int i = 0;i < 10;i++) {
	System.out.println("abss");
}
		
//输出所有水仙花数
for(int i = 100;i < 1000; i++) {
	int b = i/100;
	int s = i%100/10;
	int g = i%10;
	if(i == b*b*b + s*s*s + g*g*g) {
		System.out.println(i);
	}
}
	
```

+ **while语句**

```java
[初始化语句]
while(布尔值测试表达式){
	语句或语句块;
	[更改语句];
}

//输出10次abss
int i = 1;
while(i <= 10) {
	System.out.println("abss");
	i++;
}
```

- **do-while语句**

```java
do{
	System.out.println("abss");
	i++;
}while(i <= 10);
		
//for的无限循环
for(;;){}

//while的无限循环
while(true){}
```

- **嵌套循环**

循环语句中也可以写循环语句

```java
//写嵌套循环的时候，尽量保证外层循环次数小于内层次数
//打印1-100之间的所有质数		
for(int i = 2;i <= 100;i++) {
	int m = 0;
	for(int j = 2;j < i;j++) {
		if(i % j == 0) {
			m++;
		}
	}
	if(m == 0) {
		System.out.println(i);
	}
}
```

- **特殊流程控制语句**

  - **break语句**

    终止当前循环

  - **continue语句**

    跳过一次循环

    ```java
    //跳过1~10之间的偶数
    for(int i = 1;i <= 10;i++) {
    	if(i % 2 == 0) {
    		continue;
    	}
    	System.out.println(i);
    }
    ```

  - **return语句**

    一个方法执行到一个return语句是，这个方法将被结束。并非专门用于结束循环

    与break和continue不同的是，return直接结束整个方法，不管七处于多少层循环之内

## 数组

### 一维数组

- **一维数组的声明方式**

​		类名 数组名[] 或 类名[] 数组名

​		例子：

​			int a[];int[] a​		

- **一维数组的初始化**

- **动态初始化**

  数组声明且为数组元素分配空间与赋值的操作分开进行

  ```java
  int[] arr = new int[3];
  arr[0] = 3;
  arr[1] = 8;
  arr[2] = 9;
  ```

  - **静态初始化**

    在定义数组的同时就为数组元素分配空间与赋值

    ```java
    int a[] = new int[]{3, 8, 9};
    int[] a = {3, 8, 9};
    ```

- **数组元素的引用**

  引用方式：数组名[数组元素下标]（数组下标从0开始）

  数组长度：a.length指数组a的长度（元素个数）（数组一旦初始化，其长度不可变）

### 多维数组

- **格式1（动态初始化）**

```java
int[][] arr = new int[3][2]
/*
二维数组中有3个一维数组
每一个一维数组中有2个元素
一维数组的名称为：arr[0] arr[1] arr[2]
给第一个一维数组1脚标位赋值：arr[0][1] = 1
*/
```

- **格式2（动态初始化）**

```java
int[][] arr = new int[3][]
/*
（int[][] arr = new int[][3]是错误的）
二维数组中有3个一维数组
每个一维数组都是默认初始化值为null
*/
//可以分别对这三个一维数组进行初始化
arr[0] = new int[3]; 
arr[1] = new int[1]; 
arr[2] = new int[2]; 
```

- **格式3（静态初始化）**

```java
int[][] arr = new int[][]{{3,8,2},{2,7},{9,0,1,6}};
/*
第n个一维数组arr[n] = {..,..,..}
第三个一维数组arr[2].length
*/
```

- 特殊写法

```java
//x是一维数组，y是二维数组
int[] x,y[];
```

Java中多维数组不必都是规则矩阵

### 数组的常见运算方法

数组元素的最大值、最小值、总和、平均数

```java
//总和、平均数
int[] arr = new int[] {4,2,7,1,3,5};
int res = 0;
for(int i = 0;i < arr.length; i++) {
	res += arr[i];
}
System.out.println(res);
System.out.println((double)(res/arr.length));
```

### 数组的复制、反转

```java
//复制
copy[i] = arr[i];
//反转
int[] temp = new int[arr.length];
for(int i = 0;i < arr.length;i++) {
	temp[i] = arr[arr.length - i -1];
}
arr = temp;
```

### 数组元素的排序

排序算法见数据结构与算法，以下代码为冒泡排序

```java
int m = 0;
for(int i = 0;i < arr.length - 1;i++) {
	for(int j = 0;j < arr.length - 1 -i;j++) {
		if(arr[j] > arr[j + 1]) {
			m = arr[j];
			arr[j] = arr[j+1];
			arr[j+1] = m;
		}
	}
}	
```

# 面向对象

## 面向对象与面向过程

二者都是一种思想，面向过程强调功能行为。面向对象，将功能封装进对象，强调具备功能的对象。

面向对象更加强调运用人类在日常的思维逻辑中采用的思想方法与原则，如抽象、分类、继承、聚合、多态等。

### 面向对象的三大特征

- 封装
- 继承
- 多态

### 面向对象的思想概述

类=车站设计图；对象=实实在在的车站

面向对象程序设计的重点是类的设计

定义类其实是定义类中的成员（成员变量和成员方法）

## 面向对象之封装

### 类和对象

#### 类及类的成员

java代码世界由诸多不同功能的类构成

java中用类class来描述事物

- 属性：对应类中的成员变量
- 方法：对应类中的成员方法

#### 类的语法格式

```java
修饰符 class 类名{
	属性声明；
	方法声明；
}
```

#### 类的创建

步骤：

1. 定义类（考虑修饰符、类名）

2. 编写类的属性（考虑修饰符、属性类型、属性名、初始化值）

3. 编写类的方法（考虑修饰符、返回值类型、方法名、形参等）

```java
/**
 * 人
 * @author RYQ
 *
 */
public class Person {
//属性，成员变量，类的成员变量可以先声明，不用初始化
	String name;//默认值是null
    int age;//年龄，int的默认值是0

	//行为，方法，也叫函数
	/**
 	*打印姓名
 	*/
	public void showName() {//驼峰命名法
		System.out.println("姓名；" + name);
	}

	/**
 	* 获取年龄
 	* @return
 	*/
	public int getAge() {
		//如果是一个有返回值的方法，那么方法体的最后一行一定是返回相应的数据
		//使用return关键字，返回的数据类型与方法定义的一致
		return age;
	}
}
```

#### 对象的创建和使用

如果创建了一个类的多个对象，对于类中定义的属性，每个对象都拥有各自的一套副本，且互不干扰

使用new+构造器创建一个新的对象

使用“对象名.对象成员”的方式访问对象成员（包括属性和方法）

对于对象的使用无外乎两个地方，操作对象的变量，调用类的方法​			

```java
public class Test4 {	
	public static void main(String[] args) {
		//实例化person类，创建Person对象
        //声明一个Person类型的变量，变量名person，实例化Person类并且给Person赋值，赋值的值就是当前的实例
		//new Person()就是实例化Person类
		Person person = new Person();
        
		person.name = "阿宾";//给person对象的name属性赋值
		person.showName();//对象的方法的调用
		person.getAge();//有返回值的方法，在调用之后就会有一个值，这个值就是方法中return的那部分
		person.age = 11;//给person对象的age属性赋值
		int a = person.getAge();
		System.out.println(a);
	}
}
```

### 类的属性

#### 语法格式

修饰符 类型 属性名 = 初值；

说明：

- 修饰符private：该属性只能由该类的方法访问
- 修饰符public：该属性可以被该类以外的方法访问
- 类型：任何基本类型，如int、boolean或任何类

#### 变量的分类

在方法体外，类体内声明的变量为成员变量

在方法体内部声明的变量称为局部变量

- **成员变量**

  - **实例变量**（不以static修饰）

    在类实例化成对象之后才能使用

  - **类变量**（以static修饰）

    不需要类实例化成对象就可以使用

    直接可以通过类名.属性这样的方式调用

- **局部变量**

  - **形参**（方法签名中定义的变量）

    ```java
    //(String food)即形参
    public void eat(String food) {
    	System.out.println("此种动物的食物是：" + food);
    }
    ```

  - 方法局部变量（在方法内定义）

  - 代码块局部变量（在代码块内定义）

- 成员变量和局部变量的区别

  局部变量需要初始化，声明时不使用修饰符		

### 类的方法

#### 什么是方法（函数）？

方法是类或对象行为特征的抽象，也称为函数

java里的方法不能独立存在，所有的方法必须定义在类里​			

```java
修饰符 返回值类型 方法名(参数类型 形参1，参数类型 形参2，...){
	程序代码；
	return 返回值；
}
```

- 形式参数：在方法被调用时用于接收外部传入的数量的变量
- 参数类型：就是该形式参数的数据类型
- 返回值：方法在执行完毕后返还给调用它的程序的数据
- 返回值类型：方法要返回的结果的数据类型
- 实参：调用方法时实际穿给函数形式参数的数据

#### 方法的调用

方法只有被调用才会被执行

注意：

- 没有具体返回值的情况：返回值类型用关键字void表示，那么该函数中的return语句如果在最后一行可以省略不写

- 定义方法时，方法的结果应该返回给调用者，交由调用者处理

- 方法中只能调用方法，不可以在方法内部定义方法

- 同一个类中，所有的方法可以直接调用，不用new去实例化对象（静态方法中不能调用非静态方法）

#### 匿名对象

可以不定义对象的句柄，而直接调用这个对象的方法，这样的对象叫做匿名对象

例：new Person().showName();

使用情况：

- 如果一个对象只需要进行一次方法调用，那么就可以使用匿名对象

- 我们经常将匿名对象作为实参传递给一个方法调用		

#### 类的访问机制

在一个类中的访问机制：类中的方法可以直接访问类中的成员变量（例外，static方法访问非static，编译不通过）

在不同类中的访问机制：先创建要访问类的对象，再用对象访问类中的成员